// Generated by CoffeeScript 1.8.0
(function() {
  var currentIllusionList, documentReady, illusions, loadIllusions, logLocation;

  illusions = null;

  currentIllusionList = 0;

  logLocation = function() {
    var $illusion1;
    $illusion1 = $("#illusion-2");
    console.log($("#illusion-1").position());
    console.log($("#illusion-2").position());
    return console.log($("#illusion-3").position());
  };

  loadIllusions = function() {
    var $illusionList, $illusionType, $item, i, ill, setChangeCurrentIllusionList, str_i, str_id, templateIllusionItem, templateIllusionTypeItem, _ref, _results;
    templateIllusionTypeItem = _template($("#template-illusion-type-item").html());
    $illusionType = $("#illusion-type");
    $illusionType.html("");
    for (str_i in illusions) {
      ill = illusions[str_i];
      i = parseInt(str_i);
      if (currentIllusionList === i) {
        ill["current"] = true;
      } else {
        ill["current"] = false;
      }
      $item = $(templateIllusionTypeItem(ill));
      setChangeCurrentIllusionList = function() {
        var newListId, onClick;
        newListId = i;
        onClick = function() {
          currentIllusionList = newListId;
          return loadIllusions();
        };
        return onClick;
      };
      $item.click(setChangeCurrentIllusionList());
      $illusionType.append($item);
    }
    templateIllusionItem = _template($("#template-illusion-item").html());
    $illusionList = $("#illusion-list");
    $illusionList.html("");
    _ref = illusions[currentIllusionList]["list"];
    _results = [];
    for (str_id in _ref) {
      ill = _ref[str_id];
      $item = $(templateIllusionItem(ill));
      _results.push($illusionList.append($item));
    }
    return _results;
  };

  documentReady = function() {
    return $.ajax({
      "url": "illusions.json",
      "dataType": "json",
      "success": function(data) {
        illusions = data;
        return loadIllusions();
      }
    });
  };

  $(document).ready(documentReady);

}).call(this);

//# sourceMappingURL=editor.js.map
